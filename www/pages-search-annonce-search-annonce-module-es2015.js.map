{"version":3,"sources":["./src/app/pages/search-annonce/search-annonce.page.html","./src/app/pages/search-annonce/search-annonce-routing.module.ts","./src/app/pages/search-annonce/search-annonce.module.ts","./src/app/pages/search-annonce/search-annonce.page.scss","./src/app/pages/search-annonce/search-annonce.page.ts"],"names":[],"mappings":"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","file":"pages-search-annonce-search-annonce-module-es2015.js","sourcesContent":["module.exports = \"\\r\\n<ion-content #content>\\r\\n  \\r\\n  <div class=\\\"content-page\\\">\\r\\n\\r\\n    <!-- FILTRES PRINCIPAUX-->\\r\\n    <div class=\\\"filters\\\">\\r\\n\\r\\n       <app-afriflash-ad-filters [categoryDefault]=\\\"categoryDefault\\\" (sendFilters)=\\\"getFilters($event)\\\">\\r\\n\\r\\n       </app-afriflash-ad-filters>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <!-- FILTRES SECONDAIRE  -->\\r\\n    <div class=\\\"filters-secondary\\\" *ngIf=\\\"annoncesTmp\\\" [ngClass]=\\\"\\r\\n      {\\r\\n        'row': isWeb == true,\\r\\n        'col': isWeb == false\\r\\n      } \\\"\\r\\n    >\\r\\n\\r\\n      <!-- Nombres d'annonces trouvées -->\\r\\n      <div class=\\\"nbr-results col x-lg-4 mr-0\\\">\\r\\n        <span>Annonces : </span>\\r\\n        <span>{{ annoncesTmp.length }}</span>\\r\\n      </div>\\r\\n\\r\\n      <!-- Pro - Particulier -->\\r\\n      <div class=\\\"pro-particulier row x-lg-4 ml-3 mr-0\\\">\\r\\n          <div [ngClass]=\\\"\\r\\n              {  \\r\\n                'col-6': isWeb == true,\\r\\n                '': isWeb == false\\r\\n              }\\r\\n            \\\"\\r\\n          >\\r\\n              <input type=\\\"checkbox\\\" (click)=\\\"handleCheckboxParticulier($event)\\\"\\r\\n                     id=\\\"Particuliers\\\" name=\\\"Particulier\\\" value=\\\"Particulier\\\" checked>\\r\\n              <ion-label  color='primary' position=\\\"stacked\\\">\\r\\n                Particuliers\\r\\n              </ion-label>\\r\\n          </div>\\r\\n          <div  [ngClass]=\\\"\\r\\n              {  \\r\\n                'col-6': isWeb == true,\\r\\n                '': isWeb == false\\r\\n              }\\r\\n            \\\"\\r\\n          >\\r\\n              <input type=\\\"checkbox\\\" (click)=\\\"handleCheckboxPro($event)\\\"\\r\\n                     id=\\\"Professionnels\\\" name=\\\"Professionnel\\\" value=\\\"Professionnel\\\" checked>\\r\\n              <ion-label  color='primary' position=\\\"stacked\\\">\\r\\n                Professionnels\\r\\n              </ion-label>\\r\\n          </div>\\r\\n\\r\\n      </div>\\r\\n      \\r\\n      <!-- TRI -->\\r\\n      <div class=\\\"location col x-lg-4\\\" *ngIf=\\\"choicies\\\">\\r\\n        <select #valueSelect \\r\\n                (change)=\\\"getChoiceSecondFilter(valueSelect.value)\\\">\\r\\n            <option value=\\\"Tri: Plus récentes\\\" selected>\\r\\n              Tri: Plus récentes\\r\\n            </option>\\r\\n            <option *ngFor=\\\"let value of choicies\\\" value=\\\"{{ value }}\\\">\\r\\n              {{ value }}\\r\\n            </option>\\r\\n        </select>\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"spinner\\\" [hidden]=\\\"hiddeSpinner\\\">\\r\\n      <ion-spinner name=\\\"bubbles\\\"></ion-spinner>\\r\\n    </div>\\r\\n\\r\\n    <!-- LISTES DES ANNONCES -->\\r\\n    <div class=\\\"annonces-list\\\" *ngIf=\\\"annoncesTmp && hiddeSpinner === true\\\">\\r\\n\\r\\n        <afriflash-ads [ads]=\\\"annoncesTmp\\\" [itemsPerPage]=\\\"nbrAnnoncesPerPage\\\" \\r\\n                       [currentPage]=\\\"currentPage\\\" (position)=\\\"getPosition($event)\\\"\\r\\n                       (emitId)=\\\"moreDetails($event)\\\">\\r\\n\\r\\n        </afriflash-ads>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <!-- PAGINATION -->\\r\\n    <!-- <div class=\\\"pagination\\\" *ngIf=\\\"annoncesTmp && hiddeSpinner === true\\\">\\r\\n        <app-afriflash-pagination [positions]=\\\"positions\\\" (position)=\\\"getPosition($event)\\\">\\r\\n\\r\\n        </app-afriflash-pagination>\\r\\n    </div> -->\\r\\n\\r\\n  </div>\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SearchAnnoncePage } from './search-annonce.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SearchAnnoncePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SearchAnnoncePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SearchAnnoncePageRoutingModule } from './search-annonce-routing.module';\r\n\r\nimport { SearchAnnoncePage } from './search-annonce.page';\r\nimport {ComponentsModule} from '../../components/components.module';\r\nimport { NgxPaginationModule } from 'ngx-pagination';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        IonicModule,\r\n        SearchAnnoncePageRoutingModule,\r\n        ComponentsModule,\r\n        NgxPaginationModule\r\n    ],\r\n  declarations: [SearchAnnoncePage]\r\n})\r\nexport class SearchAnnoncePageModule {}\r\n","module.exports = \".content-page .filters-secondary {\\n  margin-left: 3vw;\\n  margin-right: 3vw;\\n  margin-top: 3vh;\\n  font-family: Raleway;\\n}\\n.content-page .filters-secondary .nbr-results {\\n  font-weight: bold;\\n}\\n.content-page .filters-secondary .pro-particulier {\\n  font-weight: bold;\\n  width: 37vw;\\n}\\n.content-page .spinner {\\n  text-align: center;\\n  margin-top: 5vh;\\n}\\n.content-page .pagination {\\n  margin-left: auto;\\n  margin-right: auto;\\n  width: -webkit-max-content;\\n  width: -moz-max-content;\\n  width: max-content;\\n  margin-top: 3vh;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc2VhcmNoLWFubm9uY2UvQzpcXFVzZXJzXFx0bWRpYWxsb1xcRG9jdW1lbnRzXFxQcm9qZXRfQWZyaXF1ZVxcQWZyaWZsYXNoXFxhZnJpZmxhc2gtZnJvbnQvc3JjXFxhcHBcXHBhZ2VzXFxzZWFyY2gtYW5ub25jZVxcc2VhcmNoLWFubm9uY2UucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9zZWFyY2gtYW5ub25jZS9zZWFyY2gtYW5ub25jZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUU7RUFFRSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLG9CQUFBO0FDRko7QURJSTtFQUNFLGlCQUFBO0FDRk47QURLSTtFQUNFLGlCQUFBO0VBQ0EsV0FBQTtBQ0hOO0FET0U7RUFDRSxrQkFBQTtFQUNBLGVBQUE7QUNMSjtBRFFFO0VBQ0UsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLDBCQUFBO0VBQUEsdUJBQUE7RUFBQSxrQkFBQTtFQUNBLGVBQUE7QUNOSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3NlYXJjaC1hbm5vbmNlL3NlYXJjaC1hbm5vbmNlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250ZW50LXBhZ2Uge1xyXG5cclxuICAuZmlsdGVycy1zZWNvbmRhcnkge1xyXG5cclxuICAgIG1hcmdpbi1sZWZ0OiAzdnc7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDN2dztcclxuICAgIG1hcmdpbi10b3A6IDN2aDtcclxuICAgIGZvbnQtZmFtaWx5OiBSYWxld2F5O1xyXG5cclxuICAgIC5uYnItcmVzdWx0cyB7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgfVxyXG5cclxuICAgIC5wcm8tcGFydGljdWxpZXIge1xyXG4gICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgd2lkdGg6IDM3dnc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuc3Bpbm5lciB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tdG9wOiA1dmg7XHJcbiAgfVxyXG5cclxuICAucGFnaW5hdGlvbiB7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIG1hcmdpbi1yaWdodDogYXV0bztcclxuICAgIHdpZHRoOiBtYXgtY29udGVudDtcclxuICAgIG1hcmdpbi10b3A6IDN2aDtcclxuICB9XHJcbn1cclxuIiwiLmNvbnRlbnQtcGFnZSAuZmlsdGVycy1zZWNvbmRhcnkge1xuICBtYXJnaW4tbGVmdDogM3Z3O1xuICBtYXJnaW4tcmlnaHQ6IDN2dztcbiAgbWFyZ2luLXRvcDogM3ZoO1xuICBmb250LWZhbWlseTogUmFsZXdheTtcbn1cbi5jb250ZW50LXBhZ2UgLmZpbHRlcnMtc2Vjb25kYXJ5IC5uYnItcmVzdWx0cyB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuLmNvbnRlbnQtcGFnZSAuZmlsdGVycy1zZWNvbmRhcnkgLnByby1wYXJ0aWN1bGllciB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB3aWR0aDogMzd2dztcbn1cbi5jb250ZW50LXBhZ2UgLnNwaW5uZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi10b3A6IDV2aDtcbn1cbi5jb250ZW50LXBhZ2UgLnBhZ2luYXRpb24ge1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICB3aWR0aDogbWF4LWNvbnRlbnQ7XG4gIG1hcmdpbi10b3A6IDN2aDtcbn0iXX0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { AfriflashObservablesProvider } from 'src/providers/afriflash-observables/afriflash-observables.provider';\r\nimport { AfriflashHttpAnnonceProvider } from 'src/providers/afriflash-http/afriflash-http-annonce.provider';\r\nimport { AfriflashDataProvider } from 'src/providers/afriflash-data/afriflash-data.provider';\r\nimport { AfriflashConfigProvider } from 'src/providers/afriflash-config/afriflash-config.provider';\r\nimport { AfriflashFilterProvider } from 'src/providers/afriflash-filter/afriflash-filter.provider';\r\nimport { AfriflashUtilsProvider } from 'src/providers/afriflash-utils-functions/afriflash-utils.provider';\r\nimport { NavController } from '@ionic/angular';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { AfriflashSessionProvider } from 'src/providers/afriflash-session/afriflash-session.provider';\r\n\r\n@Component({\r\n  selector: 'app-search-annonce',\r\n  templateUrl: './search-annonce.page.html',\r\n  styleUrls: ['./search-annonce.page.scss'],\r\n})\r\nexport class SearchAnnoncePage implements OnInit {\r\n\r\n  /**\r\n   * Liste des annonces\r\n   */\r\n  public annonces: any[];\r\n\r\n  /**\r\n   * Critères générales\r\n   */\r\n  public criteres: {\r\n    typeAnnonce: string,\r\n    category: string,\r\n    country: string,\r\n    subCategories: string[],\r\n    filters: any,\r\n    acountType: string\r\n  };\r\n\r\n  /**\r\n   * Filtres secondaires\r\n   */\r\n  public secondaryFilters: {\r\n    proSort: string,\r\n    ParticulierSort: string,\r\n    selectFiltre: string\r\n  } = {\r\n    proSort: 'Professionnel',\r\n    ParticulierSort: 'Particulier',\r\n    selectFiltre: ''\r\n  };\r\n\r\n  /**\r\n   * Liste des choix des filtres secondaires\r\n   */\r\n  public choicies: Array<string>;\r\n\r\n  /**\r\n   * Resultat de la recherche\r\n   */\r\n  public results: string;\r\n\r\n  /**\r\n   * Afficher le spinner ou non\r\n   */\r\n  public hiddeSpinner = true;\r\n\r\n  /**\r\n   * Savoir si c'est du web ou non\r\n   */\r\n  public isWeb: boolean;\r\n\r\n  /**\r\n   * numéro des pages\r\n   */\r\n  public positions = [];\r\n\r\n  /**\r\n   * Position de la page courante\r\n   */\r\n  public currentPage = 1;\r\n\r\n  /**\r\n   * Annonces temporaires\r\n   */\r\n  public annoncesTmp: Array<any>;\r\n\r\n  /**\r\n   * La limite pour récuperer les données\r\n   */\r\n  public limit = 100;\r\n\r\n  /**\r\n   * Données à ignorer\r\n   */\r\n  public skip = 0;\r\n\r\n  /**\r\n   * Le nombre d'annonces par pages\r\n   */\r\n  public nbrAnnoncesPerPage = 10;\r\n\r\n  /**\r\n   * Valeur de la categorie par défaut\r\n   */\r\n public categoryDefault = '';\r\n\r\n public subscribe: Subscription;\r\n\r\n @ViewChild('content', { static: true }) public content: any;\r\n\r\n  constructor(private observable: AfriflashObservablesProvider,\r\n              private navCtrl: NavController,\r\n              private httpAnnonce: AfriflashHttpAnnonceProvider,\r\n              private dataProvider: AfriflashDataProvider,\r\n              private config: AfriflashConfigProvider,\r\n              private filterProvider: AfriflashFilterProvider,\r\n              private route: ActivatedRoute,\r\n              private session: AfriflashSessionProvider,\r\n              private utilsProvider: AfriflashUtilsProvider) { }\r\n\r\n  ngOnInit() {\r\n\r\n    // initialisation tableau positions\r\n    this.positions = [];\r\n\r\n    // Initialisation des choix pour les filtres secondaires\r\n    this.choicies = this.dataProvider.getChoices();\r\n\r\n    // Initialisation de la plateforme\r\n    this.isWeb = this.config.isWeb();\r\n\r\n    // On supprime la source avant d'initialiser la recherche\r\n    this.session.remove('source').then(\r\n      () => {\r\n        this.getAnnonces();\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Reinitialise l'ecouteur\r\n   */\r\n  async ionViewWillEnter() {\r\n    const source = await this.session.getItem('source');\r\n    if (source && source === 'home') {\r\n      this.subscribe = this.route.queryParams.subscribe(\r\n        (category: any) => {\r\n          if (category) {\r\n            this.criteres = {\r\n              acountType: '',\r\n              category: category.category,\r\n              country: '',\r\n              filters: {},\r\n              subCategories: null,\r\n              typeAnnonce: '',\r\n            };\r\n            this.annonces = null;\r\n            this.annoncesTmp = null;\r\n            this.skip = 0;\r\n            this.currentPage = 1;\r\n            this.categoryDefault = category.category;\r\n            this.observable.initDefaultCategory.emit(this.categoryDefault);\r\n            this.getAnnonces();\r\n          }\r\n        }\r\n    );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Lorsque l'on quitte la page on se désabonne\r\n   */\r\n  async ionViewWillLeave() {\r\n    console.log('Unsuscribe observer');\r\n    await this.session.remove('source');\r\n    if (this.subscribe) {\r\n      this.subscribe.unsubscribe();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Recupère les critères\r\n   * @param criteres critères\r\n   */\r\n  public getFilters(criteres: any) {\r\n    this.criteres = criteres;\r\n    this.annonces = null;\r\n    this.annoncesTmp = null;\r\n    this.skip = 0;\r\n    this.currentPage = 1;\r\n    this.getAnnonces();\r\n  }\r\n\r\n  /**\r\n   * Recupere la position de la page courante et permet de savoir si c'est un suivant \r\n   * donc il faut requeter de nouveau (multiple de 5) ou si c'est un precedent il ne faut\r\n   * rien faire dans ce cas\r\n   * @param position Position de la page\r\n   */\r\n  public getPosition(position: number) {\r\n    this.currentPage = position;\r\n    // On scroll au debut de la page\r\n    this.content.scrollToTop(300);\r\n    // Recuperer un multiple de 5\r\n    if (position % 5 === 0 && !this.positions.includes(position)) {\r\n      this.positions.push(position);\r\n      this.skip = this.skip + this.limit;\r\n      this.getAnnonces();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Afficher plus de details pour l'annonce en question\r\n   * @param id id\r\n   */\r\n  public moreDetails(annonceId: any) {\r\n    this.navCtrl.navigateForward('details-annonce', {\r\n      queryParams: { id: annonceId}\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Recupère la liste des annonces\r\n   */\r\n  private getAnnonces() {\r\n    let body: any = {};\r\n    console.log(this.criteres);\r\n    if (this.criteres && this.criteresExist()) {\r\n\r\n      body = {\r\n        limit: this.limit,\r\n        skip: this.skip,\r\n        filters: this.criteres\r\n      };\r\n    } else {\r\n      body = {\r\n        limit: this.limit,\r\n        skip: this.skip\r\n      };\r\n    }\r\n    this.hiddeSpinner = false;\r\n    this.httpAnnonce.getAllWithFilters('annonce/annonces', body).subscribe(\r\n      (annonces) => {\r\n        if (!this.annonces && !this.annoncesTmp) {\r\n          this.annonces = [];\r\n          this.annoncesTmp = [];\r\n          this.positions = [];\r\n        }\r\n        this.annonces = this.annonces.concat(annonces.slice());\r\n        this.annoncesTmp = this.annoncesTmp.concat(annonces.slice());\r\n        this.results = this.utilsProvider.customizeNumber(annonces.length);\r\n        this.hiddeSpinner = true;\r\n        // this.observable.spinnerEvent.emit(true);\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Recupère le filtre secondaire\r\n   * @param event\r\n   */\r\n  public getChoiceSecondFilter(value) {\r\n    this.secondaryFilters.selectFiltre = value;\r\n    this.reloadAnnonces();\r\n  }\r\n\r\n  /**\r\n   * Récupère le filtre pro\r\n   * @param event\r\n   */\r\n  public handleCheckboxPro(event) {\r\n    if (event.target.checked) {\r\n      this.secondaryFilters.proSort = event.target.value;\r\n      this.reloadAnnonces();\r\n    } else {\r\n      this.secondaryFilters.proSort = '';\r\n      this.reloadAnnonces();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Récupère le filtre particulier\r\n   * @param event\r\n   */\r\n  public handleCheckboxParticulier(event) {\r\n    if (event.target.checked) {\r\n      this.secondaryFilters.ParticulierSort = event.target.value;\r\n      this.reloadAnnonces();\r\n    } else {\r\n      this.secondaryFilters.ParticulierSort = '';\r\n      this.reloadAnnonces();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Verifie si au moins un des critères est remplit\r\n   */\r\n  private criteresExist() {\r\n    if (this.criteres.acountType !== '' || this.criteres.category !== '' ||\r\n        this.criteres.filters !== {} || this.criteres.subCategories.length !== 0 ||\r\n        this.criteres.typeAnnonce !== '') {\r\n\r\n          return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Recharge les annonces avec les filtres secondaires\r\n   */\r\n  private reloadAnnonces() {\r\n    if (this.secondaryFilters.selectFiltre && this.secondaryFilters.selectFiltre.trim() !== '') {\r\n        this.hiddeSpinner = false;\r\n        if (this.secondaryFilters.selectFiltre.trim() === 'Tri: Plus récentes') {\r\n          this.annoncesTmp.sort(this.filterProvider.cmpByRecentAnnonces);\r\n          this.annonces.sort(this.filterProvider.cmpByRecentAnnonces);\r\n        }\r\n        if (this.secondaryFilters.selectFiltre.trim() === 'Tri: Plus anciennes') {\r\n            this.annoncesTmp.sort(this.filterProvider.cmpByOldAnnonces);\r\n            this.annonces.sort(this.filterProvider.cmpByOldAnnonces);\r\n        }\r\n    }\r\n\r\n    if (this.secondaryFilters.ParticulierSort && this.secondaryFilters.ParticulierSort.trim() === 'Particulier') {\r\n        this.hiddeSpinner = false;\r\n        this.annoncesTmp = this.annonces.filter(object => object.annonce.compteType === 'Particulier');\r\n        this.currentPage = 1;\r\n      }\r\n\r\n    if (this.secondaryFilters.proSort && this.secondaryFilters.proSort.trim() === 'Professionnel') {\r\n        this.hiddeSpinner = false;\r\n        this.annoncesTmp = this.annonces.filter(object => object.annonce.compteType === 'Professionnel');\r\n        this.currentPage = 1;\r\n    }\r\n\r\n    if (this.secondaryFilters.proSort && this.secondaryFilters.proSort.trim() === 'Professionnel' &&\r\n        this.secondaryFilters.ParticulierSort && this.secondaryFilters.ParticulierSort.trim() === 'Particulier') {\r\n        this.hiddeSpinner = false;\r\n        this.annoncesTmp = this.annonces;\r\n        this.currentPage = 1;\r\n    }\r\n\r\n    if (this.secondaryFilters.proSort.trim() !== 'Professionnel' && this.secondaryFilters.ParticulierSort.trim() !== 'Particulier') {\r\n          this.hiddeSpinner = false;\r\n          this.annoncesTmp = this.annonces;\r\n          this.currentPage = 1;\r\n          document.getElementById('Professionnels').click();\r\n          document.getElementById('Particuliers').click();\r\n    }\r\n    this.hiddeSpinner = true;\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}